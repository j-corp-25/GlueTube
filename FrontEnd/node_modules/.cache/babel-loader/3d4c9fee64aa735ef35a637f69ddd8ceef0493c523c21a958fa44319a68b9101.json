{"ast":null,"code":"export const restoreSession = async () => {\n  let res = await fetch('/api/session');\n  let token = res.headers.get('X-CSRF-Token');\n  sessionStorage.setItem('X-CSRF-Token', token);\n  let data = await res.json();\n  sessionStorage.setItem('currentUser', JSON.stringify(data.user));\n};\nexport async function csrfFetch(url, options) {\n  options.method ||= 'GET';\n  options.headers ||= {};\n  if (options.method.toUppderCase() !== 'GET') {\n    options.headers['Content-Type'] = 'application/json';\n    options.headers['X-CSRF-Token'] = sessionStorage.getItem('X-CSRF-Token');\n  }\n  const res = await fetch(url, options);\n  return res;\n}","map":{"version":3,"names":["restoreSession","res","fetch","token","headers","get","sessionStorage","setItem","data","json","JSON","stringify","user","csrfFetch","url","options","method","toUppderCase","getItem"],"sources":["/Users/jordycorporan/Desktop/glue_tube/FrontEnd/glue_tube/src/store/csrf.js"],"sourcesContent":["export const restoreSession = async () => {\n    let res = await fetch('/api/session');\n    let token = res.headers.get('X-CSRF-Token');\n    sessionStorage.setItem('X-CSRF-Token', token);\n    let data = await res.json();\n    sessionStorage.setItem('currentUser', JSON.stringify(data.user));\n}\nexport async function csrfFetch(url,options){\n    options.method ||= 'GET';\n    options.headers ||= {};\n\n    if(options.method.toUppderCase() !== 'GET'){\n        options.headers['Content-Type'] = 'application/json';\n        options.headers['X-CSRF-Token'] = sessionStorage.getItem('X-CSRF-Token');\n\n    }\n    const res = await fetch(url,options);\n    return res;\n\n\n}\n"],"mappings":"AAAA,OAAO,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,cAAc,CAAC;EACrC,IAAIC,KAAK,GAAGF,GAAG,CAACG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;EAC3CC,cAAc,CAACC,OAAO,CAAC,cAAc,EAAEJ,KAAK,CAAC;EAC7C,IAAIK,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;EAC3BH,cAAc,CAACC,OAAO,CAAC,aAAa,EAAEG,IAAI,CAACC,SAAS,CAACH,IAAI,CAACI,IAAI,CAAC,CAAC;AACpE,CAAC;AACD,OAAO,eAAeC,SAASA,CAACC,GAAG,EAACC,OAAO,EAAC;EACxCA,OAAO,CAACC,MAAM,KAAK,KAAK;EACxBD,OAAO,CAACX,OAAO,KAAK,CAAC,CAAC;EAEtB,IAAGW,OAAO,CAACC,MAAM,CAACC,YAAY,CAAC,CAAC,KAAK,KAAK,EAAC;IACvCF,OAAO,CAACX,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;IACpDW,OAAO,CAACX,OAAO,CAAC,cAAc,CAAC,GAAGE,cAAc,CAACY,OAAO,CAAC,cAAc,CAAC;EAE5E;EACA,MAAMjB,GAAG,GAAG,MAAMC,KAAK,CAACY,GAAG,EAACC,OAAO,CAAC;EACpC,OAAOd,GAAG;AAGd"},"metadata":{},"sourceType":"module","externalDependencies":[]}